 src/components/auth/Login.jsx 

import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { motion } from 'framer-motion';
import { authService } from '../../services/authService';

const Login = () => {
  const [formData, setFormData] = useState({
    username: '',
    password: '',
  });
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');
  const navigate = useNavigate();

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);
    setError('');

    try {
      await authService.login(formData.username, formData.password);
      navigate('/dashboard');
    } catch (err) {
      setError('Identifiants incorrects. Veuillez réessayer.');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
        className="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md"
      >
        <div className="text-center mb-8">
          <div className="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full mb-4">
            <svg className="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 14l9-5-9-5-9 5 9 5z" />
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 14v6l9-5m-9 5l-9-5" />
            </svg>
          </div>
          <h1 className="text-3xl font-bold text-gray-800">University Manager</h1>
          <p className="text-gray-600 mt-2">Connectez-vous à votre compte</p>
        </div>

        {error && (
          <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6">
            {error}
          </div>
        )}

        <form onSubmit={handleSubmit}>
          <div className="space-y-6">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Nom d'utilisateur
              </label>
              <input
                type="text"
                required
                value={formData.username}
                onChange={(e) => setFormData({ ...formData, username: e.target.value })}
                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                placeholder="Entrez votre nom d'utilisateur"
              />
            </div>

            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Mot de passe
              </label>
              <input
                type="password"
                required
                value={formData.password}
                onChange={(e) => setFormData({ ...formData, password: e.target.value })}
                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                placeholder="Entrez votre mot de passe"
              />
            </div>

            <motion.button
              whileHover={{ scale: 1.02 }}
              whileTap={{ scale: 0.98 }}
              type="submit"
              disabled={loading}
              className="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition"
            >
              {loading ? 'Connexion...' : 'Se connecter'}
            </motion.button>
          </div>
        </form>

        <div className="mt-8 text-center">
          <p className="text-gray-600">
            Démo: admin / votre-mot-de-passe
          </p>
        </div>
      </motion.div>
    </div>
  );
};

export default Login;


Register.jsx    est vide completer le code complete 

src/components/Common/

Loading.jsx

import React from 'react';
import { Loader2 } from 'lucide-react';

const Loading = ({ message = 'Chargement...', size = 'medium' }) => {
  const sizeClasses = {
    small: 'w-8 h-8',
    medium: 'w-12 h-12',
    large: 'w-16 h-16'
  };

  return (
    <div className="flex flex-col items-center justify-center p-8">
      <Loader2 className={`${sizeClasses[size]} text-primary-600 animate-spin`} />
      {message && <p className="mt-4 text-gray-600">{message}</p>}
    </div>
  );
};

export default Loading;

src/components/Common/Error.jsx 

import React from 'react';
import { AlertCircle } from 'lucide-react';

const Error = ({ message = 'Une erreur est survenue', onRetry }) => {
  return (
    <div className="flex flex-col items-center justify-center p-8">
      <AlertCircle className="w-16 h-16 text-red-600 mb-4" />
      <p className="text-lg font-medium text-gray-800 mb-2">{message}</p>
      <p className="text-gray-600 text-center mb-6">
        Veuillez réessayer ou contacter le support si le problème persiste.
      </p>
      {onRetry && (
        <button
          onClick={onRetry}
          className="btn-primary px-6 py-2"
        >
          Réessayer
        </button>
      )}
    </div>
  );
};

export default Error;


src/componenets/Dashboard  RecentActivity.jsx

import React from 'react';
import { motion } from 'framer-motion';
import { 
  UserPlus, 
  BookOpen, 
  CreditCard, 
  FileText, 
  Award,
  Calendar,
  Clock
} from 'lucide-react';

const RecentActivity = ({ activities }) => {
  const activityIcons = {
    student: UserPlus,
    course: BookOpen,
    payment: CreditCard,
    exam: FileText,
    grade: Award,
    schedule: Calendar
  };

  const activityColors = {
    student: 'bg-blue-100 text-blue-600',
    course: 'bg-green-100 text-green-600',
    payment: 'bg-yellow-100 text-yellow-600',
    exam: 'bg-purple-100 text-purple-600',
    grade: 'bg-pink-100 text-pink-600',
    schedule: 'bg-indigo-100 text-indigo-600'
  };

  return (
    <div className="space-y-4">
      {activities.map((activity, index) => {
        const ActivityIcon = activityIcons[activity.type] || Clock;
        return (
          <motion.div
            key={activity.id}
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: index * 0.1 }}
            className="flex items-center justify-between p-4 rounded-lg hover:bg-gray-50 transition"
          >
            <div className="flex items-center space-x-4">
              <div className={`p-3 rounded-lg ${activityColors[activity.type] || 'bg-gray-100'}`}>
                <ActivityIcon size={20} />
              </div>
              <div>
                <p className="font-medium text-gray-800">{activity.action}</p>
                <p className="text-sm text-gray-500">par {activity.user}</p>
              </div>
            </div>
            <span className="text-sm text-gray-500">{activity.time}</span>
          </motion.div>
        );
      })}
    </div>
  );
};

export default RecentActivity;



src/comonents/Dhasbord/StatsCard.jsx

import React from 'react';
import { motion } from 'framer-motion';

const StatsCard = ({ title, value, icon: Icon, color, change, description }) => {
  return (
    <motion.div
      whileHover={{ y: -5 }}
      className="bg-white rounded-xl shadow-lg p-6 border border-gray-200"
    >
      <div className="flex items-center justify-between">
        <div>
          <p className="text-sm text-gray-600">{title}</p>
          <p className="text-2xl font-bold text-gray-800 mt-2">{value}</p>
          <div className="flex items-center mt-3">
            <span className={`text-sm font-medium ${change.startsWith('+') ? 'text-green-600' : 'text-red-600'}`}>
              {change}
            </span>
            <span className="text-sm text-gray-500 ml-2">{description}</span>
          </div>
        </div>
        <div className={`${color} p-4 rounded-xl`}>
          <Icon className="w-6 h-6 text-white" />
        </div>
      </div>
    </motion.div>
  );
};

export default StatsCard;


src/components/Layout/Footer.jsx 

import React from 'react';
import { Link } from 'react-router-dom';
import { GraduationCap, Mail, Phone, MapPin, Facebook, Twitter, Linkedin } from 'lucide-react';

const Footer = () => {
  const currentYear = new Date().getFullYear();

  return (
    <footer className="bg-gray-900 text-white mt-12">
      <div className="container mx-auto px-4 py-12">
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          {/* Logo et description */}
          <div>
            <div className="flex items-center space-x-3 mb-4">
              <div className="bg-primary-600 p-2 rounded-lg">
                <GraduationCap className="w-6 h-6" />
              </div>
              <span className="text-xl font-bold">UniversityManager</span>
            </div>
            <p className="text-gray-400 mb-6">
              Système de gestion universitaire complet pour gérer les étudiants, 
              les enseignants, les cours et les ressources académiques.
            </p>
            <div className="flex space-x-4">
              <button className="text-gray-400 hover:text-white transition">
                <Facebook size={20} />
              </button>
              <button className="text-gray-400 hover:text-white transition">
                <Twitter size={20} />
              </button>
              <button className="text-gray-400 hover:text-white transition">
                <Linkedin size={20} />
              </button>
            </div>
          </div>

          {/* Liens rapides */}
          <div>
            <h3 className="text-lg font-semibold mb-4">Liens rapides</h3>
            <ul className="space-y-2">
              <li><Link to="/dashboard" className="text-gray-400 hover:text-white transition">Tableau de bord</Link></li>
              <li><Link to="/students" className="text-gray-400 hover:text-white transition">Étudiants</Link></li>
              <li><Link to="/teachers" className="text-gray-400 hover:text-white transition">Enseignants</Link></li>
              <li><Link to="/courses" className="text-gray-400 hover:text-white transition">Cours</Link></li>
              <li><Link to="/exams" className="text-gray-400 hover:text-white transition">Examens</Link></li>
            </ul>
          </div>

          {/* Liens administratifs */}
          <div>
            <h3 className="text-lg font-semibold mb-4">Administration</h3>
            <ul className="space-y-2">
              <li><Link to="/finance" className="text-gray-400 hover:text-white transition">Gestion financière</Link></li>
              <li><Link to="/reports" className="text-gray-400 hover:text-white transition">Rapports</Link></li>
              <li><Link to="/settings" className="text-gray-400 hover:text-white transition">Paramètres</Link></li>
              <li><a href="http://localhost:8000/admin" target="_blank" rel="noopener noreferrer" className="text-gray-400 hover:text-white transition">Admin Django</a></li>
              <li><Link to="/api-docs" className="text-gray-400 hover:text-white transition">API Documentation</Link></li>
            </ul>
          </div>

          {/* Contact */}
          <div>
            <h3 className="text-lg font-semibold mb-4">Contact</h3>
            <ul className="space-y-3">
              <li className="flex items-center space-x-3 text-gray-400">
                <MapPin size={18} />
                <span>123 Rue de l'Université, Ville</span>
              </li>
              <li className="flex items-center space-x-3 text-gray-400">
                <Phone size={18} />
                <span>+33 1 23 45 67 89</span>
              </li>
              <li className="flex items-center space-x-3 text-gray-400">
                <Mail size={18} />
                <span>contact@university-manager.com</span>
              </li>
            </ul>
          </div>
        </div>

        <div className="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>&copy; {currentYear} University Management System. Tous droits réservés.</p>
          <p className="mt-2 text-sm">Développé avec Django & React</p>
        </div>
      </div>
    </footer>
  );
};

export default Footer;


Navbar.jsx 

import React from 'react';
import { Link, useLocation } from 'react-router-dom';
import { 
  GraduationCap, 
  Users, 
  BookOpen, 
  Calendar,
  FileText,
  DollarSign,
  Home,
  Settings,
  Bell,
  User,
  LogOut,
  Menu,
  X
} from 'lucide-react';
import { useState } from 'react';

const Navbar = ({ user, onLogout }) => {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const location = useLocation();

  const navItems = [
    { path: '/dashboard', label: 'Tableau de bord', icon: <Home size={20} /> },
    { path: '/students', label: 'Étudiants', icon: <Users size={20} /> },
    { path: '/teachers', label: 'Enseignants', icon: <Users size={20} /> },
    { path: '/courses', label: 'Cours', icon: <BookOpen size={20} /> },
    { path: '/schedule', label: 'Emploi du temps', icon: <Calendar size={20} /> },
    { path: '/exams', label: 'Examens', icon: <FileText size={20} /> },
    { path: '/finance', label: 'Finance', icon: <DollarSign size={20} /> },
    { path: '/settings', label: 'Paramètres', icon: <Settings size={20} /> },
  ];

  return (
    <>
      <nav className="bg-white shadow-lg border-b border-gray-200">
        <div className="container mx-auto px-4">
          <div className="flex justify-between items-center h-16">
            {/* Logo */}
            <div className="flex items-center space-x-3">
              <div className="bg-primary-600 p-2 rounded-lg">
                <GraduationCap className="w-6 h-6 text-white" />
              </div>
              <Link to="/dashboard" className="text-xl font-bold text-gray-800 hidden md:block">
                University<span className="text-primary-600">Manager</span>
              </Link>
              <span className="text-xl font-bold text-gray-800 md:hidden">UM</span>
            </div>

            {/* Desktop Navigation */}
            <div className="hidden md:flex space-x-1">
              {navItems.slice(0, 6).map((item) => (
                <Link
                  key={item.path}
                  to={item.path}
                  className={`flex items-center space-x-2 px-3 py-2 rounded-lg transition ${
                    location.pathname === item.path
                      ? 'bg-primary-50 text-primary-600'
                      : 'text-gray-600 hover:bg-gray-50 hover:text-primary-600'
                  }`}
                >
                  {item.icon}
                  <span className="text-sm font-medium">{item.label}</span>
                </Link>
              ))}
            </div>

            {/* User Menu */}
            <div className="flex items-center space-x-4">
              <button className="p-2 text-gray-600 hover:text-primary-600 relative">
                <Bell className="w-5 h-5" />
                <span className="absolute top-1 right-1 w-2 h-2 bg-danger-500 rounded-full"></span>
              </button>
              
              <div className="hidden md:flex items-center space-x-3">
                <div className="text-right">
                  <p className="text-sm font-medium text-gray-700">
                    {user?.first_name} {user?.last_name}
                  </p>
                  <p className="text-xs text-gray-500 capitalize">
                    {user?.user_type || 'Utilisateur'}
                  </p>
                </div>
                <div className="w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center">
                  <User className="w-5 h-5" />
                </div>
                <button
                  onClick={onLogout}
                  className="flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-danger-600 hover:bg-danger-50 rounded-lg transition"
                >
                  <LogOut className="w-4 h-4" />
                </button>
              </div>

              {/* Mobile menu button */}
              <button
                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                className="md:hidden p-2 text-gray-600 hover:text-primary-600"
              >
                {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
              </button>
            </div>
          </div>
        </div>
      </nav>

      {/* Mobile Menu */}
      {mobileMenuOpen && (
        <div className="md:hidden bg-white border-b border-gray-200 animate-fade-in">
          <div className="container mx-auto px-4 py-3">
            <div className="space-y-1">
              {navItems.map((item) => (
                <Link
                  key={item.path}
                  to={item.path}
                  onClick={() => setMobileMenuOpen(false)}
                  className={`flex items-center space-x-3 px-3 py-3 rounded-lg transition ${
                    location.pathname === item.path
                      ? 'bg-primary-50 text-primary-600'
                      : 'text-gray-600 hover:bg-gray-50'
                  }`}
                >
                  {item.icon}
                  <span>{item.label}</span>
                </Link>
              ))}
              
              {/* User info in mobile */}
              <div className="px-3 py-3 border-t border-gray-200">
                <div className="flex items-center space-x-3">
                  <div className="w-10 h-10 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center">
                    <User className="w-6 h-6" />
                  </div>
                  <div>
                    <p className="font-medium text-gray-700">
                      {user?.first_name} {user?.last_name}
                    </p>
                    <p className="text-sm text-gray-500 capitalize">{user?.user_type}</p>
                  </div>
                </div>
                <button
                  onClick={() => {
                    onLogout();
                    setMobileMenuOpen(false);
                  }}
                  className="w-full mt-4 flex items-center justify-center space-x-2 px-4 py-2 bg-danger-50 text-danger-600 rounded-lg hover:bg-danger-100 transition"
                >
                  <LogOut className="w-4 h-4" />
                  <span>Déconnexion</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </>
  );
};

export default Navbar;


Sidebar.jsx 


import React from 'react';
import { NavLink } from 'react-router-dom';
import {
  Home,
  Users,
  BookOpen,
  Calendar,
  FileText,
  DollarSign,
  Settings,
  BarChart3,
  ClipboardList,
  UserPlus,
  CreditCard,
  Bookmark,
  Download
} from 'lucide-react';

const Sidebar = () => {
  const menuItems = [
    {
      title: 'Général',
      items: [
        { path: '/dashboard', label: 'Tableau de bord', icon: <Home size={18} /> },
      ]
    },
    {
      title: 'Académique',
      items: [
        { path: '/students', label: 'Étudiants', icon: <Users size={18} /> },
        { path: '/teachers', label: 'Enseignants', icon: <Users size={18} /> },
        { path: '/courses', label: 'Cours', icon: <BookOpen size={18} /> },
        { path: '/enrollments', label: 'Inscriptions', icon: <UserPlus size={18} /> },
        { path: '/schedule', label: 'Emploi du temps', icon: <Calendar size={18} /> },
      ]
    },
    {
      title: 'Évaluations',
      items: [
        { path: '/exams', label: 'Examens', icon: <FileText size={18} /> },
        { path: '/grades', label: 'Notes', icon: <ClipboardList size={18} /> },
        { path: '/transcripts', label: 'Relevés de notes', icon: <Download size={18} /> },
      ]
    },
    {
      title: 'Administratif',
      items: [
        { path: '/finance', label: 'Finance', icon: <DollarSign size={18} /> },
        { path: '/scholarships', label: 'Bourses', icon: <CreditCard size={18} /> },
        { path: '/certificates', label: 'Certificats', icon: <Bookmark size={18} /> },
        { path: '/reports', label: 'Rapports', icon: <BarChart3 size={18} /> },
      ]
    },
    {
      title: 'Système',
      items: [
        { path: '/settings', label: 'Paramètres', icon: <Settings size={18} /> },
      ]
    },
  ];

  return (
    <aside className="w-64 bg-white border-r border-gray-200 h-[calc(100vh-4rem)] overflow-y-auto hidden lg:block">
      <div className="p-4">
        {menuItems.map((section, index) => (
          <div key={index} className="mb-8">
            <h3 className="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">
              {section.title}
            </h3>
            <nav className="space-y-1">
              {section.items.map((item) => (
                <NavLink
                  key={item.path}
                  to={item.path}
                  className={({ isActive }) =>
                    `flex items-center space-x-3 px-3 py-2.5 rounded-lg transition ${
                      isActive
                        ? 'bg-primary-50 text-primary-600 border-l-4 border-primary-600'
                        : 'text-gray-600 hover:bg-gray-50 hover:text-primary-600'
                    }`
                  }
                >
                  <div className="text-gray-400 group-hover:text-primary-600">
                    {item.icon}
                  </div>
                  <span className="text-sm font-medium">{item.label}</span>
                </NavLink>
              ))}
            </nav>
          </div>
        ))}
      </div>
    </aside>
  );
};

export default Sidebar;



src/pages/Courses.jsx

import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import {
  BookOpen,
  Search,
  Filter,
  Plus,
  Edit,
  Trash2,
  Eye,
  Users,
  Clock,
  Award,
  Calendar,
  ChevronLeft,
  ChevronRight,
  Download,
  BarChart3,
  PlayCircle,
  CheckCircle,
  XCircle,
  GraduationCap // Ajouté
} from 'lucide-react';
import { courseService } from '../services/api'; // Correction de l'import

const Courses = () => {
  const [courses, setCourses] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage] = useState(10);
  const [selectedSemester, setSelectedSemester] = useState('all');
  const [selectedDepartment, setSelectedDepartment] = useState('all');

  useEffect(() => {
    fetchCourses();
  }, []);

  const fetchCourses = async () => {
    try {
      const response = await courseService.getAll();
      setCourses(response.data);
    } catch (error) {
      console.error('Error fetching courses:', error);
    } finally {
      setLoading(false);
    }
  };

  const departments = ['all', 'Informatique', 'Mathématiques', 'Physique', 'Chimie', 'Biologie', 
                      'Littérature', 'Histoire', 'Philosophie', 'Langues', 'Économie', 'Droit'];
  
  const semesters = [
    { value: 'all', label: 'Tous les semestres' },
    { value: 'fall', label: 'Automne' },
    { value: 'spring', label: 'Printemps' },
    { value: 'summer', label: 'Été' }
  ];

  const statusColors = {
    active: 'bg-green-100 text-green-800',
    upcoming: 'bg-blue-100 text-blue-800',
    completed: 'bg-gray-100 text-gray-800',
    cancelled: 'bg-red-100 text-red-800'
  };

  const statusIcons = {
    active: PlayCircle,
    upcoming: Clock,
    completed: CheckCircle,
    cancelled: XCircle
  };

  const filteredCourses = courses.filter(course => {
    const matchesSearch = course.course_code?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         course.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         course.teacher?.user?.first_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         course.teacher?.user?.last_name?.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesSemester = selectedSemester === 'all' || course.semester === selectedSemester;
    const matchesDepartment = selectedDepartment === 'all' || course.department === selectedDepartment;
    return matchesSearch && matchesSemester && matchesDepartment;
  });

  const totalPages = Math.ceil(filteredCourses.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const paginatedCourses = filteredCourses.slice(startIndex, startIndex + itemsPerPage);

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">Chargement des cours...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-6">
      {/* Header */}
      <div className="mb-8">
        <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
          <div>
            <h1 className="text-3xl font-bold text-gray-800 flex items-center">
              <BookOpen className="mr-3 text-primary-600" />
              Gestion des cours
            </h1>
            <p className="text-gray-600 mt-2">
              {courses.length} cours disponibles - {courses.filter(c => c.status === 'active').length} actifs
            </p>
          </div>
          <div className="flex space-x-3">
            <button className="btn-primary flex items-center space-x-2 px-6 py-3">
              <Plus size={20} />
              <span>Nouveau cours</span>
            </button>
            <button className="border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center space-x-2">
              <BarChart3 size={20} />
              <span>Statistiques</span>
            </button>
          </div>
        </div>
      </div>

      {/* Filtres et recherche */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        className="bg-white rounded-xl shadow-lg p-6 mb-6"
      >
        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
          {/* Recherche */}
          <div className="relative">
            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <input
              type="text"
              placeholder="Rechercher un cours..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
            />
          </div>

          {/* Filtre semestre */}
          <div className="relative">
            <Calendar className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedSemester}
              onChange={(e) => setSelectedSemester(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {semesters.map(sem => (
                <option key={sem.value} value={sem.value}>
                  {sem.label}
                </option>
              ))}
            </select>
          </div>

          {/* Filtre département */}
          <div className="relative">
            <Filter className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedDepartment}
              onChange={(e) => setSelectedDepartment(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {departments.map(dept => (
                <option key={dept} value={dept}>
                  {dept === 'all' ? 'Tous départements' : dept}
                </option>
              ))}
            </select>
          </div>

          {/* Actions */}
          <div className="flex space-x-3">
            <button className="flex-1 border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center justify-center space-x-2">
              <Download size={18} />
              <span>Exporter</span>
            </button>
            <button className="flex-1 border border-primary-600 text-primary-600 px-4 py-3 rounded-lg hover:bg-primary-50 flex items-center justify-center space-x-2">
              <Filter size={18} />
              <span>Filtrer</span>
            </button>
          </div>
        </div>
      </motion.div>

      {/* Statistiques rapides */}
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Cours actifs</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">
                {courses.filter(c => c.status === 'active').length}
              </p>
            </div>
            <div className="p-3 bg-green-100 text-green-600 rounded-lg">
              <PlayCircle size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Cours à venir</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">
                {courses.filter(c => c.status === 'upcoming').length}
              </p>
            </div>
            <div className="p-3 bg-blue-100 text-blue-600 rounded-lg">
              <Clock size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Inscriptions moyennes</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">24</p>
            </div>
            <div className="p-3 bg-purple-100 text-purple-600 rounded-lg">
              <Users size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Crédits totaux</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">
                {courses.reduce((sum, course) => sum + (course.credits || 0), 0)}
              </p>
            </div>
            <div className="p-3 bg-yellow-100 text-yellow-600 rounded-lg">
              <Award size={24} />
            </div>
          </div>
        </div>
      </div>

      {/* Tableau des cours */}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 0.2 }}
        className="bg-white rounded-xl shadow-lg overflow-hidden"
      >
        <div className="overflow-x-auto">
          <table className="min-w-full">
            <thead className="bg-gray-50">
              <tr>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Code cours
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Titre du cours
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Enseignant
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Crédits
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Étudiants
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Statut
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {paginatedCourses.length === 0 ? (
                <tr>
                  <td colSpan="7" className="px-6 py-12 text-center">
                    <div className="text-gray-400">
                      <BookOpen className="w-12 h-12 mx-auto mb-4 opacity-50" />
                      <p className="text-lg font-medium">Aucun cours trouvé</p>
                      <p className="mt-2">Ajoutez des cours pour commencer</p>
                    </div>
                  </td>
                </tr>
              ) : (
                paginatedCourses.map((course, index) => {
                  const StatusIcon = statusIcons[course.status] || Clock;
                  return (
                    <motion.tr
                      key={course.id}
                      initial={{ opacity: 0, y: 20 }}
                      animate={{ opacity: 1, y: 0 }}
                      transition={{ delay: index * 0.05 }}
                      className="hover:bg-gray-50"
                    >
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="font-mono font-bold text-primary-600">
                          {course.course_code}
                        </div>
                        <div className="text-xs text-gray-500">
                          {course.department}
                        </div>
                      </td>
                      <td className="px-6 py-4">
                        <div className="font-medium text-gray-900">{course.title}</div>
                        <div className="text-sm text-gray-500 line-clamp-2">
                          {course.description?.substring(0, 80)}...
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <div className="w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center mr-3">
                            <GraduationCap size={14} />
                          </div>
                          <div>
                            <div className="font-medium text-gray-900">
                              {course.teacher?.user?.first_name} {course.teacher?.user?.last_name}
                            </div>
                            <div className="text-xs text-gray-500">
                              {course.teacher?.rank}
                            </div>
                          </div>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <Award className="mr-2 text-yellow-500" size={16} />
                          <span className="font-bold text-gray-800">{course.credits}</span>
                          <span className="text-sm text-gray-500 ml-1">crédits</span>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <Users className="mr-2 text-blue-500" size={16} />
                          <div>
                            <span className="font-medium text-gray-800">
                              {course.enrollments?.length || 0}
                            </span>
                            <span className="text-sm text-gray-500 ml-1">
                              / {course.max_students || 30}
                            </span>
                          </div>
                        </div>
                        <div className="w-24 bg-gray-200 rounded-full h-2 mt-2">
                          <div 
                            className="bg-green-500 h-2 rounded-full"
                            style={{ 
                              width: `${Math.min(100, ((course.enrollments?.length || 0) / (course.max_students || 30)) * 100)}%` 
                            }}
                          ></div>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <StatusIcon size={16} className="mr-2" />
                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${statusColors[course.status] || 'bg-gray-100 text-gray-800'}`}>
                            {course.status === 'active' ? 'Actif' :
                             course.status === 'upcoming' ? 'À venir' :
                             course.status === 'completed' ? 'Terminé' :
                             course.status === 'cancelled' ? 'Annulé' : course.status}
                          </span>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex space-x-2">
                          <button className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition">
                            <Eye size={18} />
                          </button>
                          <button className="p-2 text-green-600 hover:bg-green-50 rounded-lg transition">
                            <Edit size={18} />
                          </button>
                          <button className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition">
                            <Trash2 size={18} />
                          </button>
                        </div>
                      </td>
                    </motion.tr>
                  );
                })
              )}
            </tbody>
          </table>
        </div>

        {/* Pagination */}
        {totalPages > 1 && (
          <div className="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
            <div className="text-sm text-gray-700">
              Affichage de {startIndex + 1} à {Math.min(startIndex + itemsPerPage, filteredCourses.length)} 
              sur {filteredCourses.length} cours
            </div>
            <div className="flex space-x-2">
              <button
                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                disabled={currentPage === 1}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronLeft size={20} />
              </button>
              
              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
                let pageNum;
                if (totalPages <= 5) {
                  pageNum = i + 1;
                } else if (currentPage <= 3) {
                  pageNum = i + 1;
                } else if (currentPage >= totalPages - 2) {
                  pageNum = totalPages - 4 + i;
                } else {
                  pageNum = currentPage - 2 + i;
                }
                
                return (
                  <button
                    key={pageNum}
                    onClick={() => setCurrentPage(pageNum)}
                    className={`w-10 h-10 rounded-lg ${
                      currentPage === pageNum
                        ? 'bg-primary-600 text-white'
                        : 'border border-gray-300 hover:bg-gray-50'
                    }`}
                  >
                    {pageNum}
                  </button>
                );
              })}
              
              <button
                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                disabled={currentPage === totalPages}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronRight size={20} />
              </button>
            </div>
          </div>
        )}
      </motion.div>

      {/* Section inférieure */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.3 }}
        className="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"
      >
        {/* Prochains cours */}
        <div className="lg:col-span-2 bg-white rounded-xl shadow-lg p-6">
          <h3 className="text-lg font-semibold text-gray-800 mb-4">Prochains cours à planifier</h3>
          <div className="space-y-4">
            {[1, 2, 3].map((item) => (
              <div key={item} className="flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50">
                <div className="flex items-center space-x-4">
                  <div className="w-12 h-12 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center">
                    <BookOpen size={20} />
                  </div>
                  <div>
                    <p className="font-medium text-gray-800">Introduction à l'IA</p>
                    <p className="text-sm text-gray-600">INF-401 - Informatique</p>
                  </div>
                </div>
                <div className="text-right">
                  <p className="text-sm text-gray-600">Débute le</p>
                  <p className="font-medium">15 Mars 2024</p>
                </div>
                <button className="btn-primary px-4 py-2">
                  Planifier
                </button>
              </div>
            ))}
          </div>
        </div>

        {/* Actions rapides */}
        <div className="bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white">
          <h3 className="text-lg font-semibold mb-4">Actions cours</h3>
          <div className="space-y-3">
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Créer nouveau cours</span>
              <Plus size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Importer liste cours</span>
              <Download size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Générer emploi du temps</span>
              <Calendar size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Voir statistiques</span>
              <BarChart3 size={18} />
            </button>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Courses;


Dashboard.jsx


import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import {
  Users,
  GraduationCap,
  BookOpen,
  DollarSign,
  TrendingUp,
  Calendar,
  FileText,
  Clock,
  ArrowUpRight,
  Eye,
  Download,
  PlusCircle
} from 'lucide-react';
import { authService, studentService, teacherService } from '../services/api';
import StatsCard from '../components/Dashboard/StatsCard';
import RecentActivity from '../components/Dashboard/RecentActivity';

const Dashboard = () => {
  const [user, setUser] = useState(null);
  const [stats, setStats] = useState({
    totalStudents: 0,
    totalTeachers: 0,
    totalCourses: 0,
    totalRevenue: 0,
    enrollmentRate: 0,
    graduationRate: 0
  });
  const [loading, setLoading] = useState(true);
  const [recentActivities, setRecentActivities] = useState([
    { id: 1, type: 'student', action: 'Nouvel étudiant inscrit', user: 'Jean Dupont', time: 'Il y a 10 min' },
    { id: 2, type: 'course', action: 'Cours ajouté', user: 'Prof. Martin', time: 'Il y a 30 min' },
    { id: 3, type: 'payment', action: 'Paiement reçu', user: 'Marie Curie', time: 'Il y a 1 heure' },
    { id: 4, type: 'exam', action: 'Examen programmé', user: 'Dr. Smith', time: 'Il y a 2 heures' },
    { id: 5, type: 'grade', action: 'Notes publiées', user: 'Prof. Johnson', time: 'Il y a 3 heures' },
  ]);

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      // Récupérer le profil utilisateur
      const profileResponse = await authService.getProfile();
      setUser(profileResponse.data);

      // Récupérer les statistiques
      const studentsResponse = await studentService.getAll();
      const teachersResponse = await teacherService.getAll();

      setStats({
        totalStudents: studentsResponse.data.length,
        totalTeachers: teachersResponse.data.length,
        totalCourses: 24,
        totalRevenue: 1250000,
        enrollmentRate: 12,
        graduationRate: 85
      });

    } catch (error) {
      console.error('Error fetching dashboard data:', error);
    } finally {
      setLoading(false);
    }
  };

  const statCards = [
    {
      title: 'Étudiants',
      value: stats.totalStudents,
      icon: Users,
      color: 'bg-blue-500',
      change: '+12%',
      description: 'Depuis le mois dernier'
    },
    {
      title: 'Enseignants',
      value: stats.totalTeachers,
      icon: GraduationCap,
      color: 'bg-green-500',
      change: '+5%',
      description: '3 nouveaux cette année'
    },
    {
      title: 'Cours actifs',
      value: stats.totalCourses,
      icon: BookOpen,
      color: 'bg-purple-500',
      change: '+8%',
      description: 'Cours dispensés'
    },
    {
      title: 'Revenu mensuel',
      value: `$${stats.totalRevenue.toLocaleString()}`,
      icon: DollarSign,
      color: 'bg-yellow-500',
      change: '+15%',
      description: 'Frais de scolarité'
    },
    {
      title: "Taux d'inscription",
      value: `${stats.enrollmentRate}%`,
      icon: TrendingUp,
      color: 'bg-indigo-500',
      change: '+3.2%',
      description: 'Nouveaux étudiants'
    },
    {
      title: 'Taux de réussite',
      value: `${stats.graduationRate}%`,
      icon: TrendingUp,
      color: 'bg-pink-500',
      change: '+2.1%',
      description: 'Diplômés cette année'
    },
  ];

  const quickActions = [
    { icon: PlusCircle, label: 'Ajouter étudiant', color: 'bg-blue-500', path: '/students/new' },
    { icon: BookOpen, label: 'Créer un cours', color: 'bg-green-500', path: '/courses/new' },
    { icon: Calendar, label: 'Planifier examen', color: 'bg-purple-500', path: '/exams/new' },
    { icon: FileText, label: 'Générer rapport', color: 'bg-yellow-500', path: '/reports' },
    { icon: Eye, label: 'Voir emploi du temps', color: 'bg-indigo-500', path: '/schedule' },
    { icon: Download, label: 'Exporter données', color: 'bg-pink-500', path: '/export' },
  ];

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">Chargement du tableau de bord...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-6">
      {/* Header */}
      <div className="mb-8">
        <motion.div
          initial={{ opacity: 0, y: -20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5 }}
        >
          <h1 className="text-3xl font-bold text-gray-800">
            Bonjour, <span className="text-primary-600">{user?.first_name} {user?.last_name}</span> !
          </h1>
          <p className="text-gray-600 mt-2">
            Bienvenue dans votre tableau de bord de gestion universitaire
          </p>
          <div className="flex items-center space-x-2 mt-4 text-sm text-gray-500">
            <Clock size={16} />
            <span>{new Date().toLocaleDateString('fr-FR', { 
              weekday: 'long', 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric' 
            })}</span>
          </div>
        </motion.div>
      </div>

      {/* Stats Grid */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        {statCards.map((stat, index) => (
          <motion.div
            key={stat.title}
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.3, delay: index * 0.1 }}
          >
            <StatsCard {...stat} />
          </motion.div>
        ))}
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* Activités récentes */}
        <motion.div
          initial={{ opacity: 0, x: -20 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ duration: 0.5, delay: 0.2 }}
          className="lg:col-span-2"
        >
          <div className="bg-white rounded-xl shadow-lg p-6 h-full">
            <div className="flex justify-between items-center mb-6">
              <h2 className="text-xl font-bold text-gray-800">Activités récentes</h2>
              <button className="text-primary-600 hover:text-primary-700 font-medium flex items-center space-x-2">
                <span>Voir tout</span>
                <ArrowUpRight size={16} />
              </button>
            </div>
            <RecentActivity activities={recentActivities} />
          </div>
        </motion.div>

        {/* Actions rapides */}
        <motion.div
          initial={{ opacity: 0, x: 20 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ duration: 0.5, delay: 0.3 }}
        >
          <div className="bg-white rounded-xl shadow-lg p-6 h-full">
            <h2 className="text-xl font-bold text-gray-800 mb-6">Actions rapides</h2>
            <div className="space-y-4">
              {quickActions.map((action, index) => (
                <motion.button
                  key={action.label}
                  initial={{ opacity: 0, x: 20 }}
                  animate={{ opacity: 1, x: 0 }}
                  transition={{ duration: 0.3, delay: 0.1 * index }}
                  whileHover={{ scale: 1.02 }}
                  whileTap={{ scale: 0.98 }}
                  className="w-full flex items-center space-x-4 p-4 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition group"
                >
                  <div className={`${action.color} p-3 rounded-lg`}>
                    <action.icon className="w-5 h-5 text-white" />
                  </div>
                  <span className="font-medium text-gray-700 group-hover:text-primary-600">
                    {action.label}
                  </span>
                  <ArrowUpRight className="w-4 h-4 text-gray-400 ml-auto" />
                </motion.button>
              ))}
            </div>

            {/* Statistiques rapides */}
            <div className="mt-8 pt-6 border-t border-gray-200">
              <h3 className="text-lg font-semibold text-gray-800 mb-4">Statistiques rapides</h3>
              <div className="space-y-3">
                <div className="flex justify-between items-center">
                  <span className="text-gray-600">Étudiants par département</span>
                  <span className="font-medium">1245</span>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-gray-600">Cours ce semestre</span>
                  <span className="font-medium">56</span>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-gray-600">Examens à venir</span>
                  <span className="font-medium">12</span>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-gray-600">Paiements en attente</span>
                  <span className="font-medium">8</span>
                </div>
              </div>
            </div>
          </div>
        </motion.div>
      </div>

      {/* Section inférieure */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5, delay: 0.4 }}
        className="mt-6"
      >
        <div className="bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white">
          <div className="flex flex-col md:flex-row justify-between items-center">
            <div>
              <h3 className="text-xl font-bold mb-2">Besoin d'aide ?</h3>
              <p className="text-primary-100">
                Consultez notre documentation ou contactez notre support technique
              </p>
            </div>
            <div className="flex space-x-4 mt-4 md:mt-0">
              <button className="bg-white text-primary-600 px-6 py-2 rounded-lg font-medium hover:bg-gray-100 transition">
                Documentation
              </button>
              <button className="bg-transparent border-2 border-white px-6 py-2 rounded-lg font-medium hover:bg-white hover:text-primary-600 transition">
                Contact support
              </button>
            </div>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Dashboard;



Exams.jsx


import React, { useState } from 'react';
import { motion } from 'framer-motion';
import {
  FileText,
  Search,
  Filter,
  Plus,
  Edit,
  Trash2,
  Eye,
  Calendar,
  Clock,
  Users,
  BookOpen,
  AlertCircle,
  CheckCircle,
  XCircle,
  Download,
  Printer,
  ChevronLeft,
  ChevronRight,
  BarChart3,
  Timer
} from 'lucide-react';

const Exams = () => {
  const [exams, setExams] = useState([
    {
      id: 1,
      code: 'EXAM-2024-001',
      title: 'Examen Final - Mathématiques',
      course: 'Mathématiques Avancées',
      type: 'final',
      date: '2024-06-15',
      time: '09:00',
      duration: '3 heures',
      location: 'Salle A-101',
      status: 'upcoming',
      students: 45,
      maxStudents: 50
    },
    {
      id: 2,
      code: 'EXAM-2024-002',
      title: 'Test Partiel - Physique',
      course: 'Physique Quantique',
      type: 'midterm',
      date: '2024-05-20',
      time: '14:00',
      duration: '2 heures',
      location: 'Salle B-205',
      status: 'upcoming',
      students: 30,
      maxStudents: 35
    },
    {
      id: 3,
      code: 'EXAM-2024-003',
      title: 'Quiz - Programmation',
      course: 'Algorithmique',
      type: 'quiz',
      date: '2024-05-10',
      time: '10:30',
      duration: '1 heure',
      location: 'Lab Info 3',
      status: 'completed',
      students: 40,
      maxStudents: 40
    },
    {
      id: 4,
      code: 'EXAM-2024-004',
      title: 'Examen Oral - Anglais',
      course: 'Anglais Technique',
      type: 'oral',
      date: '2024-05-25',
      time: '13:00',
      duration: '30 min',
      location: 'Salle C-102',
      status: 'upcoming',
      students: 25,
      maxStudents: 30
    },
    {
      id: 5,
      code: 'EXAM-2024-005',
      title: 'Examen Pratique - Chimie',
      course: 'Chimie Organique',
      type: 'practical',
      date: '2024-04-30',
      time: '08:30',
      duration: '4 heures',
      location: 'Lab Chimie 2',
      status: 'completed',
      students: 20,
      maxStudents: 25
    }
  ]);

  const [searchTerm, setSearchTerm] = useState('');
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage] = useState(8);
  const [selectedType, setSelectedType] = useState('all');
  const [selectedStatus, setSelectedStatus] = useState('all');

  const examTypes = [
    { value: 'all', label: 'Tous types' },
    { value: 'final', label: 'Examen Final' },
    { value: 'midterm', label: 'Partiel' },
    { value: 'quiz', label: 'Quiz' },
    { value: 'oral', label: 'Oral' },
    { value: 'practical', label: 'Pratique' }
  ];

  const statusOptions = [
    { value: 'all', label: 'Tous statuts' },
    { value: 'upcoming', label: 'À venir' },
    { value: 'ongoing', label: 'En cours' },
    { value: 'completed', label: 'Terminé' },
    { value: 'cancelled', label: 'Annulé' }
  ];

  const statusConfig = {
    upcoming: { color: 'bg-blue-100 text-blue-800', icon: Clock, label: 'À venir' },
    ongoing: { color: 'bg-yellow-100 text-yellow-800', icon: Timer, label: 'En cours' },
    completed: { color: 'bg-green-100 text-green-800', icon: CheckCircle, label: 'Terminé' },
    cancelled: { color: 'bg-red-100 text-red-800', icon: XCircle, label: 'Annulé' }
  };

  const typeConfig = {
    final: { color: 'bg-purple-100 text-purple-800', label: 'Final' },
    midterm: { color: 'bg-indigo-100 text-indigo-800', label: 'Partiel' },
    quiz: { color: 'bg-pink-100 text-pink-800', label: 'Quiz' },
    oral: { color: 'bg-teal-100 text-teal-800', label: 'Oral' },
    practical: { color: 'bg-orange-100 text-orange-800', label: 'Pratique' }
  };

  const filteredExams = exams.filter(exam => {
    const matchesSearch = exam.code.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         exam.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         exam.course.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesType = selectedType === 'all' || exam.type === selectedType;
    const matchesStatus = selectedStatus === 'all' || exam.status === selectedStatus;
    return matchesSearch && matchesType && matchesStatus;
  });

  const totalPages = Math.ceil(filteredExams.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const paginatedExams = filteredExams.slice(startIndex, startIndex + itemsPerPage);

  // Calcul des statistiques
  const stats = {
    total: exams.length,
    upcoming: exams.filter(e => e.status === 'upcoming').length,
    completed: exams.filter(e => e.status === 'completed').length,
    avgStudents: Math.round(exams.reduce((sum, exam) => sum + exam.students, 0) / exams.length)
  };

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-6">
      {/* Header */}
      <div className="mb-8">
        <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
          <div>
            <h1 className="text-3xl font-bold text-gray-800 flex items-center">
              <FileText className="mr-3 text-primary-600" />
              Gestion des examens
            </h1>
            <p className="text-gray-600 mt-2">
              Planification et gestion des examens universitaires
            </p>
          </div>
          <div className="flex space-x-3">
            <button className="btn-primary flex items-center space-x-2 px-6 py-3">
              <Plus size={20} />
              <span>Planifier examen</span>
            </button>
            <button className="border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center space-x-2">
              <BarChart3 size={20} />
              <span>Statistiques</span>
            </button>
          </div>
        </div>
      </div>

      {/* Statistiques */}
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Examens totaux</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">{stats.total}</p>
            </div>
            <div className="p-3 bg-primary-100 text-primary-600 rounded-lg">
              <FileText size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">À venir</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">{stats.upcoming}</p>
            </div>
            <div className="p-3 bg-blue-100 text-blue-600 rounded-lg">
              <Clock size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Terminés</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">{stats.completed}</p>
            </div>
            <div className="p-3 bg-green-100 text-green-600 rounded-lg">
              <CheckCircle size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Moyenne étudiants</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">{stats.avgStudents}</p>
            </div>
            <div className="p-3 bg-purple-100 text-purple-600 rounded-lg">
              <Users size={24} />
            </div>
          </div>
        </div>
      </div>

      {/* Filtres et recherche */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        className="bg-white rounded-xl shadow-lg p-6 mb-6"
      >
        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
          {/* Recherche */}
          <div className="relative">
            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <input
              type="text"
              placeholder="Rechercher un examen..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
            />
          </div>

          {/* Filtre type */}
          <div className="relative">
            <Filter className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedType}
              onChange={(e) => setSelectedType(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {examTypes.map(type => (
                <option key={type.value} value={type.value}>
                  {type.label}
                </option>
              ))}
            </select>
          </div>

          {/* Filtre statut */}
          <div className="relative">
            <AlertCircle className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedStatus}
              onChange={(e) => setSelectedStatus(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {statusOptions.map(status => (
                <option key={status.value} value={status.value}>
                  {status.label}
                </option>
              ))}
            </select>
          </div>

          {/* Actions */}
          <div className="flex space-x-3">
            <button className="flex-1 border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center justify-center space-x-2">
              <Download size={18} />
              <span>Exporter</span>
            </button>
            <button className="flex-1 border border-primary-600 text-primary-600 px-4 py-3 rounded-lg hover:bg-primary-50 flex items-center justify-center space-x-2">
              <Printer size={18} />
              <span>Imprimer</span>
            </button>
          </div>
        </div>
      </motion.div>

      {/* Tableau des examens */}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 0.2 }}
        className="bg-white rounded-xl shadow-lg overflow-hidden mb-6"
      >
        <div className="overflow-x-auto">
          <table className="min-w-full">
            <thead className="bg-gray-50">
              <tr>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Code
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Examen
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Date & Heure
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Type
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Participants
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Statut
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {paginatedExams.length === 0 ? (
                <tr>
                  <td colSpan="7" className="px-6 py-12 text-center">
                    <div className="text-gray-400">
                      <FileText className="w-12 h-12 mx-auto mb-4 opacity-50" />
                      <p className="text-lg font-medium">Aucun examen trouvé</p>
                      <p className="mt-2">Planifiez des examens pour commencer</p>
                    </div>
                  </td>
                </tr>
              ) : (
                paginatedExams.map((exam, index) => {
                  const StatusIcon = statusConfig[exam.status]?.icon || Clock;
                  return (
                    <motion.tr
                      key={exam.id}
                      initial={{ opacity: 0, y: 20 }}
                      animate={{ opacity: 1, y: 0 }}
                      transition={{ delay: index * 0.05 }}
                      className="hover:bg-gray-50"
                    >
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="font-mono font-bold text-primary-600">
                          {exam.code}
                        </div>
                        <div className="text-xs text-gray-500">
                          {exam.course}
                        </div>
                      </td>
                      <td className="px-6 py-4">
                        <div className="font-medium text-gray-900">{exam.title}</div>
                        <div className="text-sm text-gray-500">
                          <div className="flex items-center mt-1">
                            <BookOpen size={12} className="mr-1" />
                            {exam.course}
                          </div>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <Calendar className="mr-2 text-gray-400" size={16} />
                          <div>
                            <div className="font-medium text-gray-900">
                              {new Date(exam.date).toLocaleDateString('fr-FR')}
                            </div>
                            <div className="text-sm text-gray-500">
                              <Clock size={12} className="inline mr-1" />
                              {exam.time} - {exam.duration}
                            </div>
                          </div>
                        </div>
                        <div className="text-xs text-gray-500 mt-1">
                          ?? {exam.location}
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <span className={`px-3 py-1 text-xs font-medium rounded-full ${typeConfig[exam.type]?.color || 'bg-gray-100 text-gray-800'}`}>
                          {typeConfig[exam.type]?.label || exam.type}
                        </span>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <Users className="mr-2 text-blue-500" size={16} />
                          <div>
                            <span className="font-medium text-gray-800">
                              {exam.students}
                            </span>
                            <span className="text-sm text-gray-500 ml-1">
                              / {exam.maxStudents}
                            </span>
                          </div>
                        </div>
                        <div className="w-24 bg-gray-200 rounded-full h-2 mt-2">
                          <div 
                            className="bg-green-500 h-2 rounded-full"
                            style={{ 
                              width: `${Math.min(100, (exam.students / exam.maxStudents) * 100)}%` 
                            }}
                          ></div>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <StatusIcon size={16} className="mr-2" />
                          <span className={`px-3 py-1 text-xs font-medium rounded-full ${statusConfig[exam.status]?.color || 'bg-gray-100 text-gray-800'}`}>
                            {statusConfig[exam.status]?.label || exam.status}
                          </span>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex space-x-2">
                          <button className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition">
                            <Eye size={18} />
                          </button>
                          <button className="p-2 text-green-600 hover:bg-green-50 rounded-lg transition">
                            <Edit size={18} />
                          </button>
                          <button className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition">
                            <Trash2 size={18} />
                          </button>
                        </div>
                      </td>
                    </motion.tr>
                  );
                })
              )}
            </tbody>
          </table>
        </div>

        {/* Pagination */}
        {totalPages > 1 && (
          <div className="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
            <div className="text-sm text-gray-700">
              Affichage de {startIndex + 1} à {Math.min(startIndex + itemsPerPage, filteredExams.length)} 
              sur {filteredExams.length} examens
            </div>
            <div className="flex space-x-2">
              <button
                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                disabled={currentPage === 1}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronLeft size={20} />
              </button>
              
              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
                let pageNum;
                if (totalPages <= 5) {
                  pageNum = i + 1;
                } else if (currentPage <= 3) {
                  pageNum = i + 1;
                } else if (currentPage >= totalPages - 2) {
                  pageNum = totalPages - 4 + i;
                } else {
                  pageNum = currentPage - 2 + i;
                }
                
                return (
                  <button
                    key={pageNum}
                    onClick={() => setCurrentPage(pageNum)}
                    className={`w-10 h-10 rounded-lg ${
                      currentPage === pageNum
                        ? 'bg-primary-600 text-white'
                        : 'border border-gray-300 hover:bg-gray-50'
                    }`}
                  >
                    {pageNum}
                  </button>
                );
              })}
              
              <button
                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                disabled={currentPage === totalPages}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronRight size={20} />
              </button>
            </div>
          </div>
        )}
      </motion.div>

      {/* Calendrier des examens */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.3 }}
        className="grid grid-cols-1 lg:grid-cols-3 gap-6"
      >
        {/* Prochains examens */}
        <div className="lg:col-span-2 bg-white rounded-xl shadow-lg p-6">
          <h3 className="text-lg font-semibold text-gray-800 mb-4">Calendrier des examens</h3>
          <div className="space-y-4">
            {exams
              .filter(exam => exam.status === 'upcoming')
              .slice(0, 3)
              .map((exam) => (
                <div key={exam.id} className="flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50">
                  <div className="flex items-center space-x-4">
                    <div className="w-12 h-12 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center">
                      <Calendar size={20} />
                    </div>
                    <div>
                      <p className="font-medium text-gray-800">{exam.title}</p>
                      <div className="flex items-center space-x-4 text-sm text-gray-600 mt-1">
                        <span className="flex items-center">
                          <Calendar size={12} className="mr-1" />
                          {new Date(exam.date).toLocaleDateString('fr-FR')}
                        </span>
                        <span className="flex items-center">
                          <Clock size={12} className="mr-1" />
                          {exam.time}
                        </span>
                        <span className="flex items-center">
                          <Users size={12} className="mr-1" />
                          {exam.students} étudiants
                        </span>
                      </div>
                    </div>
                  </div>
                  <button className="btn-primary px-4 py-2">
                    Détails
                  </button>
                </div>
              ))}
          </div>
        </div>

        {/* Actions rapides */}
        <div className="bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white">
          <h3 className="text-lg font-semibold mb-4">Actions examens</h3>
          <div className="space-y-3">
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Planifier nouvel examen</span>
              <Plus size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Générer convocations</span>
              <Printer size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Affecter surveillants</span>
              <Users size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Exporter résultats</span>
              <Download size={18} />
            </button>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Exams;



Finance.jsx


import React, { useState } from 'react';
import { motion } from 'framer-motion';
import {
  DollarSign,
  CreditCard,
  TrendingUp,
  TrendingDown,
  Download,
  Filter,
  Search,
  Plus,
  Eye,
  Edit,
  Trash2,
  Calendar,
  Users,
  BookOpen,
  Award,
  CheckCircle,
  Clock,
  XCircle,
  ChevronLeft,
  ChevronRight,
  BarChart3,
  PieChart
} from 'lucide-react';

const Finance = () => {
  const [transactions, setTransactions] = useState([
    {
      id: 1,
      reference: 'PAY-2024-001',
      student: 'Jean Dupont',
      studentId: 'STU001',
      type: 'tuition',
      amount: 1500,
      status: 'paid',
      date: '2024-01-15',
      dueDate: '2024-01-10',
      method: 'bank_transfer'
    },
    {
      id: 2,
      reference: 'PAY-2024-002',
      student: 'Marie Curie',
      studentId: 'STU002',
      type: 'tuition',
      amount: 1500,
      status: 'paid',
      date: '2024-01-16',
      dueDate: '2024-01-10',
      method: 'credit_card'
    },
    {
      id: 3,
      reference: 'PAY-2024-003',
      student: 'Pierre Martin',
      studentId: 'STU003',
      type: 'library_fee',
      amount: 50,
      status: 'pending',
      date: null,
      dueDate: '2024-01-20',
      method: null
    },
    {
      id: 4,
      reference: 'PAY-2024-004',
      student: 'Sophie Bernard',
      studentId: 'STU004',
      type: 'tuition',
      amount: 1500,
      status: 'overdue',
      date: null,
      dueDate: '2024-01-10',
      method: null
    },
    {
      id: 5,
      reference: 'PAY-2024-005',
      student: 'Luc Dubois',
      studentId: 'STU005',
      type: 'exam_fee',
      amount: 100,
      status: 'paid',
      date: '2024-01-14',
      dueDate: '2024-01-15',
      method: 'cash'
    },
    {
      id: 6,
      reference: 'PAY-2024-006',
      student: 'Emma Laurent',
      studentId: 'STU006',
      type: 'scholarship',
      amount: -500,
      status: 'paid',
      date: '2024-01-10',
      dueDate: '2024-01-10',
      method: 'bank_transfer'
    },
    {
      id: 7,
      reference: 'PAY-2024-007',
      student: 'Thomas Petit',
      studentId: 'STU007',
      type: 'tuition',
      amount: 1500,
      status: 'paid',
      date: '2024-01-12',
      dueDate: '2024-01-10',
      method: 'bank_transfer'
    },
    {
      id: 8,
      reference: 'PAY-2024-008',
      student: 'Julie Moreau',
      studentId: 'STU008',
      type: 'lab_fee',
      amount: 75,
      status: 'pending',
      date: null,
      dueDate: '2024-01-25',
      method: null
    }
  ]);

  const [searchTerm, setSearchTerm] = useState('');
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage] = useState(8);
  const [selectedType, setSelectedType] = useState('all');
  const [selectedStatus, setSelectedStatus] = useState('all');

  const transactionTypes = [
    { value: 'all', label: 'Tous types' },
    { value: 'tuition', label: 'Frais de scolarité' },
    { value: 'exam_fee', label: 'Frais d\'examen' },
    { value: 'library_fee', label: 'Frais de bibliothèque' },
    { value: 'lab_fee', label: 'Frais de laboratoire' },
    { value: 'scholarship', label: 'Bourse' },
    { value: 'refund', label: 'Remboursement' }
  ];

  const statusOptions = [
    { value: 'all', label: 'Tous statuts' },
    { value: 'paid', label: 'Payé' },
    { value: 'pending', label: 'En attente' },
    { value: 'overdue', label: 'En retard' },
    { value: 'cancelled', label: 'Annulé' }
  ];

  const statusConfig = {
    paid: { color: 'bg-green-100 text-green-800', icon: CheckCircle, label: 'Payé' },
    pending: { color: 'bg-yellow-100 text-yellow-800', icon: Clock, label: 'En attente' },
    overdue: { color: 'bg-red-100 text-red-800', icon: Clock, label: 'En retard' },
    cancelled: { color: 'bg-gray-100 text-gray-800', icon: XCircle, label: 'Annulé' }
  };

  const methodConfig = {
    bank_transfer: { label: 'Virement', color: 'bg-blue-100 text-blue-800' },
    credit_card: { label: 'Carte crédit', color: 'bg-purple-100 text-purple-800' },
    cash: { label: 'Espèces', color: 'bg-green-100 text-green-800' },
    check: { label: 'Chèque', color: 'bg-yellow-100 text-yellow-800' }
  };

  // Calcul des statistiques
  const stats = {
    totalRevenue: transactions.filter(t => t.amount > 0 && t.status === 'paid').reduce((sum, t) => sum + t.amount, 0),
    pendingAmount: transactions.filter(t => t.status === 'pending').reduce((sum, t) => sum + t.amount, 0),
    overdueAmount: transactions.filter(t => t.status === 'overdue').reduce((sum, t) => sum + t.amount, 0),
    scholarshipAmount: Math.abs(transactions.filter(t => t.type === 'scholarship').reduce((sum, t) => sum + t.amount, 0))
  };

  const filteredTransactions = transactions.filter(transaction => {
    const matchesSearch = transaction.reference.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         transaction.student.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         transaction.studentId.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesType = selectedType === 'all' || transaction.type === selectedType;
    const matchesStatus = selectedStatus === 'all' || transaction.status === selectedStatus;
    return matchesSearch && matchesType && matchesStatus;
  });

  const totalPages = Math.ceil(filteredTransactions.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const paginatedTransactions = filteredTransactions.slice(startIndex, startIndex + itemsPerPage);

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-6">
      {/* Header */}
      <div className="mb-8">
        <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
          <div>
            <h1 className="text-3xl font-bold text-gray-800 flex items-center">
              <DollarSign className="mr-3 text-primary-600" />
              Gestion financière
            </h1>
            <p className="text-gray-600 mt-2">
              Gestion des paiements, frais de scolarité et bourses
            </p>
          </div>
          <div className="flex space-x-3">
            <button className="btn-primary flex items-center space-x-2 px-6 py-3">
              <Plus size={20} />
              <span>Nouvelle transaction</span>
            </button>
            <button className="border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center space-x-2">
              <BarChart3 size={20} />
              <span>Rapports</span>
            </button>
          </div>
        </div>
      </div>

      {/* Statistiques */}
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Revenu total</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">
                ${stats.totalRevenue.toLocaleString()}
              </p>
              <div className="flex items-center mt-2 text-green-600 text-sm">
                <TrendingUp size={16} className="mr-1" />
                <span>+12.5% ce mois</span>
              </div>
            </div>
            <div className="p-3 bg-green-100 text-green-600 rounded-lg">
              <DollarSign size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">En attente</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">
                ${stats.pendingAmount.toLocaleString()}
              </p>
              <div className="flex items-center mt-2 text-yellow-600 text-sm">
                <Clock size={16} className="mr-1" />
                <span>{transactions.filter(t => t.status === 'pending').length} paiements</span>
              </div>
            </div>
            <div className="p-3 bg-yellow-100 text-yellow-600 rounded-lg">
              <Clock size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">En retard</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">
                ${stats.overdueAmount.toLocaleString()}
              </p>
              <div className="flex items-center mt-2 text-red-600 text-sm">
                <TrendingDown size={16} className="mr-1" />
                <span>{transactions.filter(t => t.status === 'overdue').length} retards</span>
              </div>
            </div>
            <div className="p-3 bg-red-100 text-red-600 rounded-lg">
              <Clock size={24} />
            </div>
          </div>
        </div>
        
        <div className="bg-white rounded-xl shadow p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Bourses</p>
              <p className="text-2xl font-bold text-gray-800 mt-1">
                ${stats.scholarshipAmount.toLocaleString()}
              </p>
              <div className="flex items-center mt-2 text-blue-600 text-sm">
                <Award size={16} className="mr-1" />
                <span>5 étudiants bénéficiaires</span>
              </div>
            </div>
            <div className="p-3 bg-blue-100 text-blue-600 rounded-lg">
              <Award size={24} />
            </div>
          </div>
        </div>
      </div>

      {/* Filtres et recherche */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        className="bg-white rounded-xl shadow-lg p-6 mb-6"
      >
        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
          {/* Recherche */}
          <div className="relative">
            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <input
              type="text"
              placeholder="Rechercher une transaction..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
            />
          </div>

          {/* Filtre type */}
          <div className="relative">
            <Filter className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedType}
              onChange={(e) => setSelectedType(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {transactionTypes.map(type => (
                <option key={type.value} value={type.value}>
                  {type.label}
                </option>
              ))}
            </select>
          </div>

          {/* Filtre statut */}
          <div className="relative">
            <DollarSign className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedStatus}
              onChange={(e) => setSelectedStatus(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {statusOptions.map(status => (
                <option key={status.value} value={status.value}>
                  {status.label}
                </option>
              ))}
            </select>
          </div>

          {/* Actions */}
          <div className="flex space-x-3">
            <button className="flex-1 border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center justify-center space-x-2">
              <Download size={18} />
              <span>Exporter</span>
            </button>
            <button className="flex-1 border border-primary-600 text-primary-600 px-4 py-3 rounded-lg hover:bg-primary-50 flex items-center justify-center space-x-2">
              <Filter size={18} />
              <span>Filtrer</span>
            </button>
          </div>
        </div>
      </motion.div>

      {/* Tableau des transactions */}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 0.2 }}
        className="bg-white rounded-xl shadow-lg overflow-hidden mb-6"
      >
        <div className="overflow-x-auto">
          <table className="min-w-full">
            <thead className="bg-gray-50">
              <tr>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Référence
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Étudiant
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Type
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Montant
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Date échéance
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Statut
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Méthode
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {paginatedTransactions.length === 0 ? (
                <tr>
                  <td colSpan="8" className="px-6 py-12 text-center">
                    <div className="text-gray-400">
                      <DollarSign className="w-12 h-12 mx-auto mb-4 opacity-50" />
                      <p className="text-lg font-medium">Aucune transaction trouvée</p>
                      <p className="mt-2">Ajoutez des transactions pour commencer</p>
                    </div>
                  </td>
                </tr>
              ) : (
                paginatedTransactions.map((transaction, index) => {
                  const StatusIcon = statusConfig[transaction.status]?.icon || Clock;
                  return (
                    <motion.tr
                      key={transaction.id}
                      initial={{ opacity: 0, y: 20 }}
                      animate={{ opacity: 1, y: 0 }}
                      transition={{ delay: index * 0.05 }}
                      className="hover:bg-gray-50"
                    >
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="font-mono font-bold text-primary-600">
                          {transaction.reference}
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <div className="w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-3">
                            <Users size={14} />
                          </div>
                          <div>
                            <div className="font-medium text-gray-900">{transaction.student}</div>
                            <div className="text-xs text-gray-500">{transaction.studentId}</div>
                          </div>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <span className="px-3 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800">
                          {transaction.type === 'tuition' ? 'Frais scolarité' :
                           transaction.type === 'exam_fee' ? 'Frais examen' :
                           transaction.type === 'library_fee' ? 'Bibliothèque' :
                           transaction.type === 'lab_fee' ? 'Laboratoire' :
                           transaction.type === 'scholarship' ? 'Bourse' :
                           transaction.type === 'refund' ? 'Remboursement' : transaction.type}
                        </span>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className={`font-bold ${transaction.amount >= 0 ? 'text-green-600' : 'text-red-600'}`}>
                          {transaction.amount >= 0 ? '+' : ''}${Math.abs(transaction.amount).toLocaleString()}
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center text-sm text-gray-600">
                          <Calendar size={14} className="mr-2" />
                          {new Date(transaction.dueDate).toLocaleDateString('fr-FR')}
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex items-center">
                          <StatusIcon size={16} className="mr-2" />
                          <span className={`px-3 py-1 text-xs font-medium rounded-full ${statusConfig[transaction.status]?.color || 'bg-gray-100 text-gray-800'}`}>
                            {statusConfig[transaction.status]?.label || transaction.status}
                          </span>
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        {transaction.method ? (
                          <span className={`px-3 py-1 text-xs font-medium rounded-full ${methodConfig[transaction.method]?.color || 'bg-gray-100 text-gray-800'}`}>
                            {methodConfig[transaction.method]?.label || transaction.method}
                          </span>
                        ) : (
                          <span className="text-gray-400 text-sm">Non spécifié</span>
                        )}
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap">
                        <div className="flex space-x-2">
                          <button className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition">
                            <Eye size={18} />
                          </button>
                          <button className="p-2 text-green-600 hover:bg-green-50 rounded-lg transition">
                            <Edit size={18} />
                          </button>
                          <button className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition">
                            <Trash2 size={18} />
                          </button>
                        </div>
                      </td>
                    </motion.tr>
                  );
                })
              )}
            </tbody>
          </table>
        </div>

        {/* Pagination */}
        {totalPages > 1 && (
          <div className="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
            <div className="text-sm text-gray-700">
              Affichage de {startIndex + 1} à {Math.min(startIndex + itemsPerPage, filteredTransactions.length)} 
              sur {filteredTransactions.length} transactions
            </div>
            <div className="flex space-x-2">
              <button
                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                disabled={currentPage === 1}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronLeft size={20} />
              </button>
              
              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
                let pageNum;
                if (totalPages <= 5) {
                  pageNum = i + 1;
                } else if (currentPage <= 3) {
                  pageNum = i + 1;
                } else if (currentPage >= totalPages - 2) {
                  pageNum = totalPages - 4 + i;
                } else {
                  pageNum = currentPage - 2 + i;
                }
                
                return (
                  <button
                    key={pageNum}
                    onClick={() => setCurrentPage(pageNum)}
                    className={`w-10 h-10 rounded-lg ${
                      currentPage === pageNum
                        ? 'bg-primary-600 text-white'
                        : 'border border-gray-300 hover:bg-gray-50'
                    }`}
                  >
                    {pageNum}
                  </button>
                );
              })}
              
              <button
                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                disabled={currentPage === totalPages}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronRight size={20} />
              </button>
            </div>
          </div>
        )}
      </motion.div>

      {/* Analyse financière */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.3 }}
        className="grid grid-cols-1 lg:grid-cols-3 gap-6"
      >
        {/* Répartition des revenus */}
        <div className="lg:col-span-2 bg-white rounded-xl shadow-lg p-6">
          <h3 className="text-lg font-semibold text-gray-800 mb-4">Répartition des revenus</h3>
          <div className="space-y-4">
            {[
              { label: 'Frais de scolarité', amount: 45000, percentage: 75, color: 'bg-primary-500' },
              { label: 'Frais d\'examen', amount: 6000, percentage: 10, color: 'bg-green-500' },
              { label: 'Frais divers', amount: 9000, percentage: 15, color: 'bg-purple-500' }
            ].map((item, index) => (
              <div key={index} className="space-y-2">
                <div className="flex justify-between items-center">
                  <span className="font-medium text-gray-700">{item.label}</span>
                  <span className="font-bold text-gray-800">${item.amount.toLocaleString()}</span>
                </div>
                <div className="w-full bg-gray-200 rounded-full h-2">
                  <div 
                    className={`h-2 rounded-full ${item.color}`}
                    style={{ width: `${item.percentage}%` }}
                  ></div>
                </div>
                <div className="flex justify-between text-sm text-gray-600">
                  <span>{item.percentage}% du total</span>
                  <span>{Math.round(item.amount / 100)} transactions</span>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Actions rapides */}
        <div className="bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white">
          <h3 className="text-lg font-semibold mb-4">Actions financières</h3>
          <div className="space-y-3">
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Générer factures</span>
              <CreditCard size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Envoyer rappels</span>
              <Calendar size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Exporter rapports</span>
              <Download size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Analyser statistiques</span>
              <PieChart size={18} />
            </button>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Finance;



Profile.jsx



import React from 'react';
import { User, Mail, Phone, Calendar, Edit } from 'lucide-react';

const Profile = ({ user }) => {
  return (
    <div className="min-h-screen bg-gray-50 p-6">
      <h1 className="text-3xl font-bold text-gray-800 mb-6">Mon profil</h1>
      <div className="max-w-4xl mx-auto">
        <div className="bg-white rounded-xl shadow-lg p-8">
          <div className="flex items-center justify-between mb-8">
            <div className="flex items-center space-x-4">
              <div className="w-20 h-20 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center">
                <User size={32} />
              </div>
              <div>
                <h2 className="text-2xl font-bold text-gray-800">
                  {user?.first_name} {user?.last_name}
                </h2>
                <p className="text-gray-600 capitalize">{user?.user_type}</p>
              </div>
            </div>
            <button className="btn-primary flex items-center space-x-2">
              <Edit size={18} />
              <span>Modifier</span>
            </button>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div className="space-y-4">
              <div className="flex items-center space-x-3">
                <Mail className="text-gray-400" />
                <div>
                  <p className="text-sm text-gray-600">Email</p>
                  <p className="font-medium">{user?.email}</p>
                </div>
              </div>
              <div className="flex items-center space-x-3">
                <Phone className="text-gray-400" />
                <div>
                  <p className="text-sm text-gray-600">Téléphone</p>
                  <p className="font-medium">{user?.phone || 'Non spécifié'}</p>
                </div>
              </div>
            </div>
            <div className="space-y-4">
              <div className="flex items-center space-x-3">
                <Calendar className="text-gray-400" />
                <div>
                  <p className="text-sm text-gray-600">Date d'inscription</p>
                  <p className="font-medium">
                    {user?.date_joined ? new Date(user.date_joined).toLocaleDateString('fr-FR') : 'N/A'}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Profile;


Schedule.jsx


import React from 'react';
import { Calendar, Clock, Users, MapPin } from 'lucide-react';

const Schedule = () => {
  return (
    <div className="min-h-screen bg-gray-50 p-6">
      <h1 className="text-3xl font-bold text-gray-800 mb-6">Emploi du temps</h1>
      <div className="bg-white rounded-xl shadow-lg p-6">
        <p className="text-gray-600">Page emploi du temps en construction...</p>
      </div>
    </div>
  );
};

export default Schedule;



import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import {
  Users,
  Search,
  Filter,
  Plus,
  Edit,
  Trash2,
  Eye,
  Download,
  Mail,
  Phone,
  Calendar,
  BookOpen,
  ChevronLeft,
  ChevronRight,
  UserPlus
} from 'lucide-react';
import { studentService } from '../services/api';

const Students = () => {
  const [students, setStudents] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage] = useState(10);
  const [selectedDepartment, setSelectedDepartment] = useState('all');

  useEffect(() => {
    fetchStudents();
  }, []);

  const fetchStudents = async () => {
    try {
      const response = await studentService.getAll();
      setStudents(response.data);
    } catch (error) {
      console.error('Error fetching students:', error);
    } finally {
      setLoading(false);
    }
  };

  const departments = ['all', 'Informatique', 'Sciences', 'Lettres', 'Commerce', 'Ingénierie', 'Médecine'];

  const filteredStudents = students.filter(student => {
    const matchesSearch = student.student_id?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         student.user?.first_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         student.user?.last_name?.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesDepartment = selectedDepartment === 'all' || 
                             (student.department === selectedDepartment);
    return matchesSearch && matchesDepartment;
  });

  const totalPages = Math.ceil(filteredStudents.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const paginatedStudents = filteredStudents.slice(startIndex, startIndex + itemsPerPage);

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">Chargement des étudiants...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-6">
      {/* Header */}
      <div className="mb-8">
        <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
          <div>
            <h1 className="text-3xl font-bold text-gray-800 flex items-center">
              <Users className="mr-3 text-primary-600" />
              Gestion des étudiants
            </h1>
            <p className="text-gray-600 mt-2">
              {students.length} étudiant(s) inscrit(s) dans le système
            </p>
          </div>
          <button className="btn-primary flex items-center space-x-2 px-6 py-3">
            <UserPlus size={20} />
            <span>Ajouter un étudiant</span>
          </button>
        </div>
      </div>

      {/* Filtres et recherche */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        className="bg-white rounded-xl shadow-lg p-6 mb-6"
      >
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          {/* Recherche */}
          <div className="relative">
            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <input
              type="text"
              placeholder="Rechercher un étudiant..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
            />
          </div>

          {/* Filtre département */}
          <div className="relative">
            <Filter className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedDepartment}
              onChange={(e) => setSelectedDepartment(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {departments.map(dept => (
                <option key={dept} value={dept}>
                  {dept === 'all' ? 'Tous les départements' : dept}
                </option>
              ))}
            </select>
          </div>

          {/* Actions */}
          <div className="flex space-x-3">
            <button className="flex-1 border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center justify-center space-x-2">
              <Download size={18} />
              <span>Exporter</span>
            </button>
            <button className="flex-1 border border-primary-600 text-primary-600 px-4 py-3 rounded-lg hover:bg-primary-50 flex items-center justify-center space-x-2">
              <Plus size={18} />
              <span>Nouveau</span>
            </button>
          </div>
        </div>
      </motion.div>

      {/* Tableau des étudiants */}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 0.2 }}
        className="bg-white rounded-xl shadow-lg overflow-hidden"
      >
        <div className="overflow-x-auto">
          <table className="min-w-full">
            <thead className="bg-gray-50">
              <tr>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  ID Étudiant
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Nom & Prénom
                </th>
                <th className="px 6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Contact
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Département
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Date d'inscription
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Statut
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {paginatedStudents.length === 0 ? (
                <tr>
                  <td colSpan="7" className="px-6 py-12 text-center">
                    <div className="text-gray-400">
                      <Users className="w-12 h-12 mx-auto mb-4 opacity-50" />
                      <p className="text-lg font-medium">Aucun étudiant trouvé</p>
                      <p className="mt-2">Ajoutez des étudiants pour commencer</p>
                    </div>
                  </td>
                </tr>
              ) : (
                paginatedStudents.map((student, index) => (
                  <motion.tr
                    key={student.id}
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.05 }}
                    className="hover:bg-gray-50"
                  >
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="font-medium text-primary-600">
                        {student.student_id || 'N/A'}
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="flex items-center">
                        <div className="w-10 h-10 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mr-3">
                          <Users size={18} />
                        </div>
                        <div>
                          <div className="font-medium text-gray-900">
                            {student.user?.first_name} {student.user?.last_name}
                          </div>
                          <div className="text-sm text-gray-500">
                            {student.user?.email}
                          </div>
                        </div>
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="space-y-1">
                        <div className="flex items-center text-sm text-gray-600">
                          <Mail size={14} className="mr-2" />
                          {student.user?.email || 'N/A'}
                        </div>
                        <div className="flex items-center text-sm text-gray-600">
                          <Phone size={14} className="mr-2" />
                          {student.user?.phone || 'N/A'}
                        </div>
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <span className="px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                        {student.department || 'Non spécifié'}
                      </span>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="flex items-center text-sm text-gray-600">
                        <Calendar size={14} className="mr-2" />
                        {student.enrollment_date ? new Date(student.enrollment_date).toLocaleDateString('fr-FR') : 'N/A'}
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <span className={`px-3 py-1 text-xs font-medium rounded-full ${
                        student.status === 'active' 
                          ? 'bg-green-100 text-green-800'
                          : student.status === 'inactive'
                          ? 'bg-yellow-100 text-yellow-800'
                          : 'bg-gray-100 text-gray-800'
                      }`}>
                        {student.status === 'active' ? 'Actif' : 
                         student.status === 'inactive' ? 'Inactif' : 'Non spécifié'}
                      </span>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="flex space-x-2">
                        <button className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition">
                          <Eye size={18} />
                        </button>
                        <button className="p-2 text-green-600 hover:bg-green-50 rounded-lg transition">
                          <Edit size={18} />
                        </button>
                        <button className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition">
                          <Trash2 size={18} />
                        </button>
                      </div>
                    </td>
                  </motion.tr>
                ))
              )}
            </tbody>
          </table>
        </div>

        {/* Pagination */}
        {totalPages > 1 && (
          <div className="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
            <div className="text-sm text-gray-700">
              Affichage de {startIndex + 1} à {Math.min(startIndex + itemsPerPage, filteredStudents.length)} 
              sur {filteredStudents.length} étudiants
            </div>
            <div className="flex space-x-2">
              <button
                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                disabled={currentPage === 1}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronLeft size={20} />
              </button>
              
              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
                let pageNum;
                if (totalPages <= 5) {
                  pageNum = i + 1;
                } else if (currentPage <= 3) {
                  pageNum = i + 1;
                } else if (currentPage >= totalPages - 2) {
                  pageNum = totalPages - 4 + i;
                } else {
                  pageNum = currentPage - 2 + i;
                }
                
                return (
                  <button
                    key={pageNum}
                    onClick={() => setCurrentPage(pageNum)}
                    className={`w-10 h-10 rounded-lg ${
                      currentPage === pageNum
                        ? 'bg-primary-600 text-white'
                        : 'border border-gray-300 hover:bg-gray-50'
                    }`}
                  >
                    {pageNum}
                  </button>
                );
              })}
              
              <button
                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                disabled={currentPage === totalPages}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronRight size={20} />
              </button>
            </div>
          </div>
        )}
      </motion.div>

      {/* Statistiques rapides */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.3 }}
        className="mt-6 grid grid-cols-1 md:grid-cols-4 gap-4"
      >
        <div className="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm opacity-90">Total étudiants</p>
              <p className="text-3xl font-bold mt-2">{students.length}</p>
            </div>
            <Users className="w-12 h-12 opacity-80" />
          </div>
        </div>
        
        <div className="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm opacity-90">Étudiants actifs</p>
              <p className="text-3xl font-bold mt-2">
                {students.filter(s => s.status === 'active').length}
              </p>
            </div>
            <BookOpen className="w-12 h-12 opacity-80" />
          </div>
        </div>
        
        <div className="bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm opacity-90">Nouveaux ce mois</p>
              <p className="text-3xl font-bold mt-2">12</p>
            </div>
            <UserPlus className="w-12 h-12 opacity-80" />
          </div>
        </div>
        
        <div className="bg-gradient-to-r from-yellow-500 to-yellow-600 text-white rounded-xl p-6">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm opacity-90">Taux de rétention</p>
              <p className="text-3xl font-bold mt-2">94%</p>
            </div>
            <TrendingUp className="w-12 h-12 opacity-80" />
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Students;


Teachers.jsx


import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import {
  GraduationCap,
  Search,
  Filter,
  Plus,
  Edit,
  Trash2,
  Eye,
  Mail,
  Phone,
  Calendar,
  Book,
  Award,
  Users,
  Download,
  ChevronLeft,
  ChevronRight,
  Clock
} from 'lucide-react';
import { teacherService } from '../services/api';

const Teachers = () => {
  const [teachers, setTeachers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage] = useState(10);
  const [selectedDepartment, setSelectedDepartment] = useState('all');

  useEffect(() => {
    fetchTeachers();
  }, []);

  const fetchTeachers = async () => {
    try {
      const response = await teacherService.getAll();
      setTeachers(response.data);
    } catch (error) {
      console.error('Error fetching teachers:', error);
    } finally {
      setLoading(false);
    }
  };

  const departments = ['all', 'Informatique', 'Mathématiques', 'Physique', 'Chimie', 'Biologie', 
                      'Littérature', 'Histoire', 'Philosophie', 'Langues', 'Économie'];

  const ranks = {
    'professor': 'Professeur',
    'associate': 'Professeur Associé',
    'assistant': 'Assistant',
    'lecturer': 'Maître de Conférences'
  };

  const filteredTeachers = teachers.filter(teacher => {
    const matchesSearch = teacher.teacher_id?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         teacher.user?.first_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         teacher.user?.last_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         teacher.specialization?.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesDepartment = selectedDepartment === 'all' || 
                             (teacher.department === selectedDepartment);
    return matchesSearch && matchesDepartment;
  });

  const totalPages = Math.ceil(filteredTeachers.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const paginatedTeachers = filteredTeachers.slice(startIndex, startIndex + itemsPerPage);

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">Chargement des enseignants...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-6">
      {/* Header */}
      <div className="mb-8">
        <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
          <div>
            <h1 className="text-3xl font-bold text-gray-800 flex items-center">
              <GraduationCap className="mr-3 text-primary-600" />
              Gestion des enseignants
            </h1>
            <p className="text-gray-600 mt-2">
              {teachers.length} enseignant(s) dans le système
            </p>
          </div>
          <button className="btn-primary flex items-center space-x-2 px-6 py-3">
            <Plus size={20} />
            <span>Ajouter un enseignant</span>
          </button>
        </div>
      </div>

      {/* Filtres et recherche */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        className="bg-white rounded-xl shadow-lg p-6 mb-6"
      >
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          {/* Recherche */}
          <div className="relative">
            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <input
              type="text"
              placeholder="Rechercher un enseignant..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
            />
          </div>

          {/* Filtre département */}
          <div className="relative">
            <Filter className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={selectedDepartment}
              onChange={(e) => setSelectedDepartment(e.target.value)}
              className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none"
            >
              {departments.map(dept => (
                <option key={dept} value={dept}>
                  {dept === 'all' ? 'Tous les départements' : dept}
                </option>
              ))}
            </select>
          </div>

          {/* Actions */}
          <div className="flex space-x-3">
            <button className="flex-1 border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 flex items-center justify-center space-x-2">
              <Download size={18} />
              <span>Exporter</span>
            </button>
            <button className="flex-1 border border-primary-600 text-primary-600 px-4 py-3 rounded-lg hover:bg-primary-50 flex items-center justify-center space-x-2">
              <Plus size={18} />
              <span>Nouveau</span>
            </button>
          </div>
        </div>
      </motion.div>

      {/* Tableau des enseignants */}
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 0.2 }}
        className="bg-white rounded-xl shadow-lg overflow-hidden"
      >
        <div className="overflow-x-auto">
          <table className="min-w-full">
            <thead className="bg-gray-50">
              <tr>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  ID Enseignant
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Nom & Prénom
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Spécialisation
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Département
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Grade
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Date d'embauche
                </th>
                <th className="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                  Actions
                </th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {paginatedTeachers.length === 0 ? (
                <tr>
                  <td colSpan="7" className="px-6 py-12 text-center">
                    <div className="text-gray-400">
                      <GraduationCap className="w-12 h-12 mx-auto mb-4 opacity-50" />
                      <p className="text-lg font-medium">Aucun enseignant trouvé</p>
                      <p className="mt-2">Ajoutez des enseignants pour commencer</p>
                    </div>
                  </td>
                </tr>
              ) : (
                paginatedTeachers.map((teacher, index) => (
                  <motion.tr
                    key={teacher.id}
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.05 }}
                    className="hover:bg-gray-50"
                  >
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="font-medium text-primary-600">
                        {teacher.teacher_id || 'N/A'}
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="flex items-center">
                        <div className="w-10 h-10 bg-green-100 text-green-600 rounded-full flex items-center justify-center mr-3">
                          <GraduationCap size={18} />
                        </div>
                        <div>
                          <div className="font-medium text-gray-900">
                            {teacher.user?.first_name} {teacher.user?.last_name}
                          </div>
                          <div className="text-sm text-gray-500">
                            {teacher.user?.email}
                          </div>
                        </div>
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div className="text-sm text-gray-900">{teacher.specialization}</div>
                      <div className="flex items-center text-sm text-gray-500 mt-1">
                        <Book size={12} className="mr-1" />
                        {teacher.courses_count || 0} cours assignés
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <span className="px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">
                        {teacher.department || 'Non spécifié'}
                      </span>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="flex items-center">
                        <Award className="mr-2 text-yellow-500" size={16} />
                        <span className="text-sm font-medium text-gray-700">
                          {ranks[teacher.rank] || teacher.rank}
                        </span>
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="flex items-center text-sm text-gray-600">
                        <Calendar size={14} className="mr-2" />
                        {teacher.hire_date ? new Date(teacher.hire_date).toLocaleDateString('fr-FR') : 'N/A'}
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="flex space-x-2">
                        <button className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition">
                          <Eye size={18} />
                        </button>
                        <button className="p-2 text-green-600 hover:bg-green-50 rounded-lg transition">
                          <Edit size={18} />
                        </button>
                        <button className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition">
                          <Trash2 size={18} />
                        </button>
                      </div>
                    </td>
                  </motion.tr>
                ))
              )}
            </tbody>
          </table>
        </div>

        {/* Pagination */}
        {totalPages > 1 && (
          <div className="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
            <div className="text-sm text-gray-700">
              Affichage de {startIndex + 1} à {Math.min(startIndex + itemsPerPage, filteredTeachers.length)} 
              sur {filteredTeachers.length} enseignants
            </div>
            <div className="flex space-x-2">
              <button
                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                disabled={currentPage === 1}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronLeft size={20} />
              </button>
              
              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
                let pageNum;
                if (totalPages <= 5) {
                  pageNum = i + 1;
                } else if (currentPage <= 3) {
                  pageNum = i + 1;
                } else if (currentPage >= totalPages - 2) {
                  pageNum = totalPages - 4 + i;
                } else {
                  pageNum = currentPage - 2 + i;
                }
                
                return (
                  <button
                    key={pageNum}
                    onClick={() => setCurrentPage(pageNum)}
                    className={`w-10 h-10 rounded-lg ${
                      currentPage === pageNum
                        ? 'bg-primary-600 text-white'
                        : 'border border-gray-300 hover:bg-gray-50'
                    }`}
                  >
                    {pageNum}
                  </button>
                );
              })}
              
              <button
                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                disabled={currentPage === totalPages}
                className="p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"
              >
                <ChevronRight size={20} />
              </button>
            </div>
          </div>
        )}
      </motion.div>

      {/* Statistiques enseignants */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.3 }}
        className="mt-6 grid grid-cols-1 md:grid-cols-3 gap-6"
      >
        {/* Répartition par département */}
        <div className="bg-white rounded-xl shadow-lg p-6">
          <h3 className="text-lg font-semibold text-gray-800 mb-4">
            Répartition par département
          </h3>
          <div className="space-y-3">
            {departments.slice(1, 6).map((dept, index) => (
              <div key={dept} className="flex items-center justify-between">
                <span className="text-gray-600">{dept}</span>
                <div className="flex items-center space-x-3">
                  <div className="w-32 bg-gray-200 rounded-full h-2">
                    <div 
                      className="bg-primary-600 h-2 rounded-full"
                      style={{ width: `${20 + index * 15}%` }}
                    ></div>
                  </div>
                  <span className="text-sm font-medium text-gray-700">
                    {Math.floor(Math.random() * 10) + 5}
                  </span>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Informations importantes */}
        <div className="bg-white rounded-xl shadow-lg p-6">
          <h3 className="text-lg font-semibold text-gray-800 mb-4">
            Informations importantes
          </h3>
          <div className="space-y-4">
            <div className="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
              <div className="flex items-center space-x-3">
                <Users className="text-blue-600" size={20} />
                <div>
                  <p className="font-medium text-gray-800">Cours à assigner</p>
                  <p className="text-sm text-gray-600">8 cours sans enseignant</p>
                </div>
              </div>
              <button className="text-blue-600 hover:text-blue-700 text-sm font-medium">
                Assigner
              </button>
            </div>
            
            <div className="flex items-center justify-between p-3 bg-green-50 rounded-lg">
              <div className="flex items-center space-x-3">
                <Clock className="text-green-600" size={20} />
                <div>
                  <p className="font-medium text-gray-800">Heures disponibles</p>
                  <p className="text-sm text-gray-600">125h/semaine total</p>
                </div>
              </div>
              <span className="text-green-600 font-medium">85%</span>
            </div>
            
            <div className="flex items-center justify-between p-3 bg-yellow-50 rounded-lg">
              <div className="flex items-center space-x-3">
                <Calendar className="text-yellow-600" size={20} />
                <div>
                  <p className="font-medium text-gray-800">Évaluations à faire</p>
                  <p className="text-sm text-gray-600">15 examens ce mois</p>
                </div>
              </div>
              <button className="text-yellow-600 hover:text-yellow-700 text-sm font-medium">
                Voir
              </button>
            </div>
          </div>
        </div>

        {/* Actions rapides */}
        <div className="bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white">
          <h3 className="text-lg font-semibold mb-4">Actions rapides</h3>
          <div className="space-y-3">
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Planifier réunion département</span>
              <Calendar size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Assigner nouveaux cours</span>
              <Book size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Générer rapports d'activité</span>
              <Download size={18} />
            </button>
            <button className="w-full flex items-center justify-between p-3 bg-white/10 rounded-lg hover:bg-white/20 transition">
              <span>Voir emploi du temps</span>
              <Clock size={18} />
            </button>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Teachers;



src/services 

api.js


import axios from 'axios';

const API_URL = 'http://localhost:8000/api';

const api = axios.create({
  baseURL: API_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Intercepteur pour ajouter le token
api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('access_token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Intercepteur pour rafraîchir le token
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    const originalRequest = error.config;
    
    if (error.response?.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true;
      
      try {
        const refreshToken = localStorage.getItem('refresh_token');
        const response = await axios.post(`${API_URL}/token/refresh/`, {
          refresh: refreshToken
        });
        
        localStorage.setItem('access_token', response.data.access);
        api.defaults.headers.common['Authorization'] = `Bearer ${response.data.access}`;
        
        return api(originalRequest);
      } catch (refreshError) {
        localStorage.removeItem('access_token');
        localStorage.removeItem('refresh_token');
        window.location.href = '/login';
        return Promise.reject(refreshError);
      }
    }
    
    return Promise.reject(error);
  }
);

// Services d'authentification
export const authService = {
  login: async (username, password) => {
    const response = await api.post('/token/', { username, password });
    if (response.data.access) {
      localStorage.setItem('access_token', response.data.access);
      localStorage.setItem('refresh_token', response.data.refresh);
    }
    return response.data;
  },

  logout: () => {
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
  },

  register: async (userData) => {
    return await api.post('/accounts/register/', userData);
  },

  getProfile: async () => {
    return await api.get('/accounts/profile/');
  },

  updateProfile: async (userData) => {
    return await api.put('/accounts/profile/', userData);
  },
};

// Services des étudiants
export const studentService = {
  getAll: async () => {
    return await api.get('/students/');
  },

  getById: async (id) => {
    return await api.get(`/students/${id}/`);
  },

  create: async (studentData) => {
    return await api.post('/students/', studentData);
  },

  update: async (id, studentData) => {
    return await api.put(`/students/${id}/`, studentData);
  },

  delete: async (id) => {
    return await api.delete(`/students/${id}/`);
  },
};

// Services des enseignants
export const teacherService = {
  getAll: async () => {
    return await api.get('/teachers/');
  },

  getById: async (id) => {
    return await api.get(`/teachers/${id}/`);
  },

  create: async (teacherData) => {
    return await api.post('/teachers/', teacherData);
  },

  update: async (id, teacherData) => {
    return await api.put(`/teachers/${id}/`, teacherData);
  },

  delete: async (id) => {
    return await api.delete(`/teachers/${id}/`);
  },
};

// Services des cours
export const courseService = {
  getAll: async () => {
    return await api.get('/courses/');
  },

  getById: async (id) => {
    return await api.get(`/courses/${id}/`);
  },

  create: async (courseData) => {
    return await api.post('/courses/', courseData);
  },

  update: async (id, courseData) => {
    return await api.put(`/courses/${id}/`, courseData);
  },

  delete: async (id) => {
    return await api.delete(`/courses/${id}/`);
  },
};

// Services des inscriptions
export const enrollmentService = {
  getAll: async () => {
    return await api.get('/enrollments/');
  },

  create: async (enrollmentData) => {
    return await api.post('/enrollments/', enrollmentData);
  },

  delete: async (id) => {
    return await api.delete(`/enrollments/${id}/`);
  },
};

// Services des examens
export const examService = {
  getAll: async () => {
    return await api.get('/exams/');
  },

  getById: async (id) => {
    return await api.get(`/exams/${id}/`);
  },

  create: async (examData) => {
    return await api.post('/exams/', examData);
  },

  update: async (id, examData) => {
    return await api.put(`/exams/${id}/`, examData);
  },

  delete: async (id) => {
    return await api.delete(`/exams/${id}/`);
  },
};

// Services financiers
export const financeService = {
  getTransactions: async () => {
    return await api.get('/finance/transactions/');
  },

  createTransaction: async (transactionData) => {
    return await api.post('/finance/transactions/', transactionData);
  },

  updateTransaction: async (id, transactionData) => {
    return await api.put(`/finance/transactions/${id}/`, transactionData);
  },

  deleteTransaction: async (id) => {
    return await api.delete(`/finance/transactions/${id}/`);
  },

  getStatistics: async () => {
    return await api.get('/finance/statistics/');
  },
};

export default api;




authService.js


import api from './api';

export const authService = {
  login: async (username, password) => {
    const response = await api.post('/token/', { username, password });
    if (response.data.access) {
      localStorage.setItem('access_token', response.data.access);
      localStorage.setItem('refresh_token', response.data.refresh);
    }
    return response.data;
  },

  logout: () => {
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
  },

  register: async (userData) => {
    return await api.post('/accounts/register/', userData);
  },

  getProfile: async () => {
    return await api.get('/accounts/profile/');
  },

  updateProfile: async (userData) => {
    return await api.put('/accounts/profile/', userData);
  },
};



dataService.js


import api from './api';

export const studentService = {
  getAll: async () => {
    return await api.get('/students/');
  },

  getById: async (id) => {
    return await api.get(`/students/${id}/`);
  },

  create: async (studentData) => {
    return await api.post('/students/', studentData);
  },

  update: async (id, studentData) => {
    return await api.put(`/students/${id}/`, studentData);
  },

  delete: async (id) => {
    return await api.delete(`/students/${id}/`);
  },
};

export const teacherService = {
  getAll: async () => {
    return await api.get('/teachers/');
  },

  getById: async (id) => {
    return await api.get(`/teachers/${id}/`);
  },

  create: async (teacherData) => {
    return await api.post('/teachers/', teacherData);
  },

  update: async (id, teacherData) => {
    return await api.put(`/teachers/${id}/`, teacherData);
  },

  delete: async (id) => {
    return await api.delete(`/teachers/${id}/`);
  },
};

export const courseService = {
  getAll: async () => {
    return await api.get('/courses/');
  },

  getById: async (id) => {
    return await api.get(`/courses/${id}/`);
  },

  create: async (courseData) => {
    return await api.post('/courses/', courseData);
  },

  update: async (id, courseData) => {
    return await api.put(`/courses/${id}/`, courseData);
  },

  delete: async (id) => {
    return await api.delete(`/courses/${id}/`);
  },
};

export const enrollmentService = {
  getAll: async () => {
    return await api.get('/enrollments/');
  },

  create: async (enrollmentData) => {
    return await api.post('/enrollments/', enrollmentData);
  },

  delete: async (id) => {
    return await api.delete(`/enrollments/${id}/`);
  },
};

export const examService = {
  getAll: async () => {
    return await api.get('/exams/');
  },

  getById: async (id) => {
    return await api.get(`/exams/${id}/`);
  },

  create: async (examData) => {
    return await api.post('/exams/', examData);
  },

  update: async (id, examData) => {
    return await api.put(`/exams/${id}/`, examData);
  },

  delete: async (id) => {
    return await api.delete(`/exams/${id}/`);
  },
};

export const financeService = {
  getTransactions: async () => {
    return await api.get('/finance/transactions/');
  },

  createTransaction: async (transactionData) => {
    return await api.post('/finance/transactions/', transactionData);
  },

  updateTransaction: async (id, transactionData) => {
    return await api.put(`/finance/transactions/${id}/`, transactionData);
  },

  deleteTransaction: async (id) => {
    return await api.delete(`/finance/transactions/${id}/`);
  },

  getStatistics: async () => {
    return await api.get('/finance/statistics/');
  },
};



App.js


import React, { useState, useEffect } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';
import { AnimatePresence } from 'framer-motion';

// Layout Components
import Navbar from './components/Layout/Navbar';
import Sidebar from './components/Layout/Sidebar';
import Footer from './components/Layout/Footer';

// Auth Components
import Login from './components/Auth/Login';
import Register from './components/Auth/Register';

// Pages
import Dashboard from './pages/Dashboard';
import Students from './pages/Students';
import Teachers from './pages/Teachers';
import Courses from './pages/Courses';
import Exams from './pages/Exams';
import Finance from './pages/Finance';
import Profile from './pages/Profile';
import Schedule from './pages/Schedule';

// Services
import { authService } from './services/authService';

const AppContent = () => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const location = useLocation();

  useEffect(() => {
    checkAuth();
  }, []);

  const checkAuth = async () => {
    const token = localStorage.getItem('access_token');
    if (token) {
      try {
        const profile = await authService.getProfile();
        setUser(profile.data);
      } catch (error) {
        localStorage.removeItem('access_token');
        localStorage.removeItem('refresh_token');
      }
    }
    setLoading(false);
  };

  const handleLogin = async (username, password) => {
    try {
      await authService.login(username, password);
      const profile = await authService.getProfile();
      setUser(profile.data);
      return true;
    } catch (error) {
      return false;
    }
  };

  const handleLogout = () => {
    authService.logout();
    setUser(null);
  };

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-gray-600">Chargement...</p>
        </div>
      </div>
    );
  }

  const isAuthPage = location.pathname === '/login' || location.pathname === '/register';

  if (!user && !isAuthPage) {
    return <Navigate to="/login" />;
  }

  if (user && isAuthPage) {
    return <Navigate to="/dashboard" />;
  }

  if (isAuthPage) {
    return (
      <AnimatePresence mode="wait">
        <Routes location={location} key={location.pathname}>
          <Route path="/login" element={<Login onLogin={handleLogin} />} />
          <Route path="/register" element={<Register />} />
        </Routes>
      </AnimatePresence>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <Navbar user={user} onLogout={handleLogout} />
      <div className="flex">
        <Sidebar />
        <main className="flex-1 lg:ml-64 min-h-[calc(100vh-4rem)]">
          <AnimatePresence mode="wait">
            <Routes location={location} key={location.pathname}>
              <Route path="/dashboard" element={<Dashboard />} />
              <Route path="/students" element={<Students />} />
              <Route path="/teachers" element={<Teachers />} />
              <Route path="/courses" element={<Courses />} />
              <Route path="/exams" element={<Exams />} />
              <Route path="/finance" element={<Finance />} />
              <Route path="/profile" element={<Profile user={user} />} />
              <Route path="/schedule" element={<Schedule />} />
              <Route path="/" element={<Navigate to="/dashboard" />} />
            </Routes>
          </AnimatePresence>
        </main>
      </div>
      <Footer />
    </div>
  );
};

function App() {
  return (
    <Router>
      <AppContent />
    </Router>
  );
}

export default App;




App.css


.App {
  text-align: center;
}

.App-logo {
  height: 40vmin;
  pointer-events: none;
}

@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.fade-in {
  animation: fadeIn 0.3s ease-in;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}



index.js



import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);




index.css

@tailwind base;
@tailwind components;
@tailwind utilities;



tailwind.config.js


/** @type {import('tailwindcss').Config} */
module.exports = {
    content: ["./src/**/*.{js,jsx,ts,tsx}"],
    theme: {
      extend: {
        colors: {
          primary: {
            50: '#eff6ff',
            100: '#dbeafe',
            200: '#bfdbfe',
            300: '#93c5fd',
            400: '#60a5fa',
            500: '#3b82f6',
            600: '#2563eb',
            700: '#1d4ed8',
            800: '#1e40af',
            900: '#1e3a8a',
          },
          secondary: {
            50: '#f8fafc',
            100: '#f1f5f9',
            200: '#e2e8f0',
            300: '#cbd5e1',
            400: '#94a3b8',
            500: '#64748b',
            600: '#475569',
            700: '#334155',
            800: '#1e293b',
            900: '#0f172a',
          },
          success: {
            50: '#f0fdf4',
            100: '#dcfce7',
            200: '#bbf7d0',
            300: '#86efac',
            400: '#4ade80',
            500: '#22c55e',
            600: '#16a34a',
            700: '#15803d',
            800: '#166534',
            900: '#14532d',
          },
          warning: {
            50: '#fffbeb',
            100: '#fef3c7',
            200: '#fde68a',
            300: '#fcd34d',
            400: '#fbbf24',
            500: '#f59e0b',
            600: '#d97706',
            700: '#b45309',
            800: '#92400e',
            900: '#78350f',
          },
          danger: {
            50: '#fef2f2',
            100: '#fee2e2',
            200: '#fecaca',
            300: '#fca5a5',
            400: '#f87171',
            500: '#ef4444',
            600: '#dc2626',
            700: '#b91c1c',
            800: '#991b1b',
            900: '#7f1d1d',
          }
        },
        animation: {
          'fade-in': 'fadeIn 0.5s ease-in-out',
          'slide-up': 'slideUp 0.3s ease-out',
          'pulse-slow': 'pulse 3s infinite',
          'bounce-slow': 'bounce 2s infinite',
        },
        keyframes: {
          fadeIn: {
            '0%': { opacity: '0' },
            '100%': { opacity: '1' },
          },
          slideUp: {
            '0%': { transform: 'translateY(10px)', opacity: '0' },
            '100%': { transform: 'translateY(0)', opacity: '1' },
          },
        },
      },
    },
    plugins: [],
  }



postcss.config.js



module.exports = {
    plugins: {
      tailwindcss: {},
      autoprefixer: {},
    },
  }





